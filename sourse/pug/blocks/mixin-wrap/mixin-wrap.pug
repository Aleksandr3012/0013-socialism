

include ../../_assets/bemto/bemto
- set_bemto_settings({ modifier: "--" })
//- svg-sprite
mixin icon(name,mod)
	- mod = mod || ''
	svg(class="icon icon-" + name + ' ' + mod)
		use(xlink:href="img/svg/sprite.svg#" + name)
//-/ svg-sprite



//- breadcrumb
mixin breadcrumb(...items)
	nav(aria-label="breadcrumb" )
		ol.breadcrumb(itemscope itemtype="http://schema.org/BreadcrumbList")
			-for (var i = 0; i < items.length; i++)
				li.breadcrumb-item( class=(i == items.length - 1 ? "active" : '')   itemprop="itemListElement" itemscope  itemtype="http://schema.org/ListItem")
					a(href=(i == 0 ? "/" : '#') itemprop="item" )
						span( itemprop="name")= items[i]
						meta(itemprop="position" content= (i + 1) )

mixin pageHead(...items)
	+b.pageHead
		.container
			block
			+breadcrumb(...items)
		
//- pugination
mixin pugin()
	//- nav(aria-label='...')
	//- 	ul.pagination.justify-content-center
	//- 		li.page-item.disabled
	//- 			a.page-link(href='#', tabindex='-1') 
	//- 				i(class="fas fa-chevron-left")
	//- 		li.page-item.disabled
	//- 			a.page-link.d-none.d-md-block(href='#', tabindex='-1') Назад

	//- 		li.page-item
	//- 			a.page-link(href='#') 1
	//- 		li.page-item.active
	//- 			a.page-link(href='#')
	//- 				| 2 
	//- 				span.sr-only (current)
	//- 		li.page-item
	//- 			a.page-link.page-link-more(href='#') ...
	//- 		li.page-item
	//- 			a.page-link(href='#') 3

	//- 		li.page-item
	//- 			a.page-link.d-none.d-md-block(href='#') Дальше
	//- 		li.page-item
	//- 			a.page-link(href='#') 
	//- 				i(class="fas fa-chevron-right")
	.pagination-wrapper
		ul.page-numbers
			mixin li(n)
				li
					if n
						a.page-numbers(href='#')= n 
					else
						block
			+li()
				span.prev.page-numbers( )
					img(src="img/svg/prev.svg", alt="")
			+li()
				span.prev.page-numbers( )
					img(src="img/svg/prev-double.svg", alt="")
			+li()
				span.page-numbers.current  1
			- for (var x = 1; x < 5; x++)
				+li(x)
			+li()
				a.next.page-numbers(href='#')
					img(src="img/svg/next.svg", alt="")
			+li()
				a.next.page-numbers(href='#')
					img(src="img/svg/next-double.svg", alt="")
//- +pugin()
//- /pugination
//- h2.yel(class="  wow fadeInUp animated " data-wow-offset="120" data-wow-duration="1.2s")  
//- arrow for swiper-slider
mixin arrow()
	.swiper-button-hand.swiper-button-hand-prev.swiper-button-prev
		+icon('chevron-left')
	.swiper-button-hand.swiper-button-hand-next.swiper-button-next
		+icon('chevron-right')
//- /arrow for swiper-slider
		
 

//- scial buttons
mixin soc()
	+b.soc
		mixin item()
			+e.A.item(href="№" target="_blank")
				block
		+item()
			+icon('fb')
		
		+item()
			+icon('insta')
		
		+item()
			+icon('vk')
//- /scial buttons
//- WP menu

mixin menu()
	+e.UL.nav(itemscope itemtype="http://schema.org/SiteNavigationElement")&attributes(attributes)
		+e.LI.item.active( itemprop="item" ): +e.A.link(href="#"  itemprop="url") Главная
		+e.LI.item.dropdown( itemprop="item" ): +e.A.link(href="#"  itemprop="url") О движении
			+b.UL.drop
				+e.LI.item
					+e.A.link(href="#" itemprop="url") Лидер движения
				+e.LI.item
					+e.A.link(href="#" itemprop="url") Краткая политическая программа(турборедукторы)
				+e.LI.item
					+e.A.link(href="#" itemprop="url") О российской экономике
				+e.LI.item
					+e.A.link(href="#" itemprop="url") Об идеологии в России
				+e.LI.item
					+e.A.link(href="#" itemprop="url") Отчет
				+e.LI.item
					+e.A.link(href="#" itemprop="url") Агитматериалы
				+e.LI.item
					+e.A.link(href="#" itemprop="url") Региональные отделения
		+e.LI.item( itemprop="item" ): +e.A.link(href="#"  itemprop="url") Стать депутатом
		+e.LI.item( itemprop="item" ): +e.A.link(href="#"  itemprop="url") Новости
		+e.LI.item.dropdown( itemprop="item" ): +e.link(href="#"  itemprop="url") Видео
			+b.UL.drop
				+e.LI.item: +e.A.link(href="#" itemprop="url") Анонс
				+e.LI.item: +e.A.link(href="#" itemprop="url") Важное
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча  в Хабаровске
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча в Воронеже
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча в Екатеринбурге
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча в Казани
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча в Комсомольске-на-Амуре
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча в Костроме
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча в Крыму
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча в Миассе
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча в Смоленске
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча в Сталинграде / Волгограде
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча в Тамбове
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча в Челябинске
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча с жителями Калинина / Твери
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча с жителями Краснодара
				+e.LI.item: +e.A.link(href="#" itemprop="url") Встреча с жителями Нижнего Тагила
				+e.LI.item: +e.A.link(href="#" itemprop="url") Выражаем поддержку
				+e.LI.item: +e.A.link(href="#" itemprop="url") ГлавТема Народ
				+e.LI.item: +e.A.link(href="#" itemprop="url") Годовщина Движения
				+e.LI.item: +e.A.link(href="#" itemprop="url") Известные люди
				+e.LI.item: +e.A.link(href="#" itemprop="url") Информационное агентство «АВРОРА»
				+e.LI.item: +e.A.link(href="#" itemprop="url") Итоги недели на радио "Комсомольская Правда" 
				+e.LI.item: +e.A.link(href="#" itemprop="url") Канал "Pravda"
				+e.LI.item: +e.A.link(href="#" itemprop="url") Канал "Независимая Студия"
				+e.LI.item: +e.A.link(href="#" itemprop="url") Канал Красная Линия
				+e.LI.item: +e.A.link(href="#" itemprop="url") Митинги
				+e.LI.item: +e.A.link(href="#" itemprop="url") Молодёжное движение
				+e.LI.item: +e.A.link(href="#" itemprop="url") Парк "Тайган"
				+e.LI.item: +e.A.link(href="#" itemprop="url") ПОЛИТИНФОРМ
				+e.LI.item: +e.A.link(href="#" itemprop="url") Прямая трансляция. Стрим
				+e.LI.item: +e.A.link(href="#" itemprop="url") Региональные отделения движения
				+e.LI.item: +e.A.link(href="#" itemprop="url") Съезд Движения 07.11.2019
				+e.LI.item: +e.A.link(href="#" itemprop="url") Федеральное ТВ
				+e.LI.item: +e.A.link(href="#" itemprop="url") Цитаты
				+e.LI.item: +e.A.link(href="#" itemprop="url") Школа Политпросвета

		+e.LI.item( itemprop="item" ): +e.A.link(href="#"  itemprop="url") Фото
		+e.LI.item( itemprop="item" ): +e.A.link(href="#"  itemprop="url") мероприятия
		+e.LI.item.dropdown( itemprop="item" ): +e.link(href="#"  itemprop="url") Контакты
			+b.UL.drop
				+e.LI.item: +e.A.link(href="#" itemprop="url") Кураторы
				+e.LI.item: +e.A.link(href="#" itemprop="url") Контакты оргкомитета


//- menu
//- mixin mnu()
//- 	-
//- 		var nav= {
//- 			"Главная":"/",
//- 			"Услуги  ":"#",
//- 			"Подбор септика   ":"#",
//- 			"Акции ":"#"," О компании  ":"#",
//- 			" Доставка и оплата ":"#",
//- 			" Клиентам  ":"#",
//- 			" Наши работы   ":"#",
//- 			"Контакты ":"#"
//- 			}
//- 	+e.UL.nav(itemscope itemtype="http://schema.org/SiteNavigationElement")
//- 		each linkPatch, linkName in nav
//- 			+e.LI.item( itemprop="item" ): +e.A.link(href= linkPatch  itemprop="url")= linkName
//- /menu




mixin pic(i, bg, lazy="lazy", media='576px')
	-
		const smpath2 = "2x"
		const smpath1 = "1x"
		let expArr = i.split(".")
		let exp = (expArr[1] || 'jpg')
	mixin src(i, exp, path , lazy, source, bg)
		-
			const url= `img/@${path}/${expArr[0]}.${exp}`
			const ifLazy = (lazy== "lazy")
			const src = ( ifLazy ? "#" : url)
			const data = (ifLazy ?  url  : null)

		if source
			source( srcset=src data-srcset= data  type=`image/${exp}`   )&attributes(attributes)
		else
			img(src=src data-src=data, class=(bg=="bg" ? "object-fit-js": null ) alt="")&attributes(attributes)
	
	// picture
	picture( class= lazy)&attributes(attributes) 
		if media
			each val in [exp] 
				each val2 in [smpath2,smpath1] 
					+src(i,val,`${val2 + (val ==  "webp" ? "/webp" : "") }`,lazy,"source")(media=(val2 == smpath2 ? "(min-width:"+ media+")" : null))
		else 
			//- +src(i,'webp',smpath2+`/webp`,lazy,"source")
			//- // /webp images  
		+src(i, exp,smpath2, lazy,"",bg) 
	// /picture

mixin pic2({i, bg, lazy="lazy", media='576px'})
	-
		const smpath2 = "2x"
		const smpath1 = "1x"
		let expArr = i.split(".")
		let exp = (expArr[1] || 'jpg')
	mixin src(i, exp, path , lazy, source, bg)
		-
			const url= `img/@${path}/${expArr[0]}.${exp}`
			const ifLazy = (lazy== "lazy")
			const src = ( ifLazy ? "#" : url)
			const data = (ifLazy ?  url  : null)

		if source
			source( srcset=src data-srcset= data  type=`image/${exp}`   )&attributes(attributes)
		else
			img(src=src data-src=data, class=(bg=="bg" ? "object-fit-js": null ) alt="")&attributes(attributes)
	
	// picture
	picture( class= lazy)&attributes(attributes) 
		if media 
			each val in ["webp",exp] 
				each val2 in [smpath2,smpath1] 
					+src(i,val,`${val2 + (val ==  "webp" ? "/webp" : "") }`,lazy,"source")(media=(val2 == smpath2 ? "(min-width:"+ media+")" : null))
		else 
			+src(i,'webp',smpath2+`/webp`,lazy,"source")
			// /webp images  
		+src(i, exp,smpath2, lazy,"",bg) 
	// /picture

//- mixin img( i, bg, lazy="lazy", media='576px')
//- 	-
//- 		const smpath2 = "2x"
//- 		const smpath1 = "1x"
//- 		let expArr = i.split(".")
//- 		let exp = (expArr[1] || 'jpg')  
//- 		const url1= `img/@${smpath1}/${expArr[0]}.${exp}`
//- 		const url2= `img/@${smpath2}/${expArr[0]}.${exp}`
//- 		const ifLazy = (lazy== "lazy")
//- 		const src = ( ifLazy ? "#" : url2)
//- 		const data2 = (ifLazy ?  url2  : null)
//- 		const data1 = (ifLazy ?  url1  : null)
//- 	img(
//- 		class= (lazy +' res-i ' + (bg=="bg" ? "object-fit-js": '') )  
//- 		src=src  
//- 		data-src=(data1)   
//- 		sizes="(max-width: 576px) 0, 100%"
//- 		data-srcset=(media != 0 ? (data1 + " " + '0, '+ data2 + " 100% " ) : null))&attributes(attributes)
		//- "img/@1x/real.jpg 1x, img/@2x/real.jpg 2x"
	//- if media !== 0  
	//- 	each val2 in [smpath2,smpath1] 
	//- 	+src(i,exp,val2,lazy)(data-srcset=(val2 == smpath2 ? "(min-width:"+ media+")" : null))
	//- else 
	//- 	+src(i,'webp',smpath2+`/webp`,lazy) 

 
	
//- /picture with lazy


	//- example
	//- or
	//- +piclazy('consult','png')
//- +pic('','head-img-4',"")


 
		 
//- /picture
	example
	+piclazy('consult','png','bg')
	or
	+piclazy('consult','png')


mixin ie11()
	//- modernizer and for ie11
	 
	<!--[if lt IE 11]><p   class="browsehappy container">К сожалению, вы используете устаревший браузер. Пожалуйста, <a href="http://browsehappy.com/" target="_blank">обновите ваш браузер</a>, чтобы улучшить производительность, качество отображаемого материала и повысить безопасность.</p><![endif]-->